## 主要功能
控制器基本功能：该控制器旨在实现笛卡尔空间的力控制，允许机器人末端执行器根据给定的目标力矩和传感器读数来动态调整位置或速度。
## 初始化和配置
init() 方法用于初始化控制器，设置必需的参数，如力/力矩传感器参考链接 (ft_sensor_ref_link)，并确保这些链接是机器人运动链的一部分。该方法还负责订阅必要的ROS主题和广告服务，以便接收目标力矩和传感器数据。
如果在参数服务器上未找到必要的参数，则会输出错误信息并返回失败。
## 控制逻辑
update() 方法是控制器的核心，它定期更新，计算机器人应该执行的动作以实现期望的力控制。该方法首先同步内部模型与实际机器人的关节位置，然后计算力误差，并将这些笛卡尔空间的误差转换为关节空间的命令，最后将这些命令发送给硬件接口。
## 重力和工具补偿
控制器包含重力和工具补偿逻辑，允许在控制过程中考虑工具的质心和质量带来的影响。这是通过从参数服务器获取工具的质心和质量信息，计算在给定力矩传感器参考帧中的实际重力影响，然后在控制周期中考虑这些因素来实现的。
## 动态重配置
dynamicReconfigureCallback() 允许在运行时通过ROS的动态重配置功能调整控制器参数，如是否在手部控制框架中控制。
## 回调函数
targetWrenchCallback() 和 ftSensorWrenchCallback() 分别处理目标力矩和传感器力矩的ROS消息，将这些数据转换为内部使用的格式，并更新控制逻辑。
signalTaringCallback() 提供了一个服务，用于校正（taring）传感器，消除静态偏差，如在启动时传感器未置零的情况。
## 控制结束
stopping() 方法定义了当控制器停止时的行为，例如在使用速度接口时发送零速度命令以停止机器人的漂移。
设计和实现细节

代码中广泛使用了模板编程，使得相同的控制逻辑可以应用于不同类型的硬件接口，如位置或速度接口。
使用了KDL（Kinematics and Dynamics Library）进行运动学和动力学计算，这是处理机器人运动学常用的库。
这段代码提供了一个高度模块化和可配置的力控制解决方案，允许精确地控制机器人在复杂动态环境中的交互。通过有效地整合传感器数据和目标设置，它能够优化机器人末端执行器的响应行为。